sieve:
    int limit
    bool[] is_prime

sieve make_sieve(int limit)
    sieve s = new sieve
    s.limit = limit
    s.is_prime = new bool[limit + 1]
    int i = 0
    while i <= limit
        s.is_prime[i] = true
        i = i + 1
    s.is_prime[0] = false
    s.is_prime[1] = false
    int p = 2
    while p * p <= limit
        if s.is_prime[p]
            int m = p * p
            while m <= limit
                s.is_prime[m] = false
                m = m + p
        p = p + 1
    return s

int count_primes(sieve s)
    int i = 2
    int count = 0
    while i <= s.limit
        if s.is_prime[i]
            count = count + 1
        i = i + 1
    return count

void main()
    sieve s = make_sieve(10000)
    print("%i\n", count_primes(s))
